syms g real;
syms m1 m2 m3 m4 m5 m6 m7 real;
syms cm1_x cm2_x cm3_x cm4_x cm5_x cm6_x cm7_x real;
syms cm1_y cm2_y cm3_y cm4_y cm5_y cm6_y cm7_y real;
syms cm1_z cm2_z cm3_z cm4_z cm5_z cm6_z cm7_z real;
syms L1 L2 L3 L4_y0 L4_z0 L5_y0 L5_z0 L6_z0 L6_x0 real;
syms q1 q2 q3 q4 q5 q6 q7 real;


 
Torque=[   0
 L2*g*m2*sin(q2) + L2*g*m3*sin(q2) + L2*g*m4*sin(q2) + L2*g*m5*sin(q2) + L2*g*m6*sin(q2) + cm2_y*g*m2*cos(q2) + cm2_x*g*m2*sin(q2) + L3*g*m3*cos(q2)*cos(q3) + L3*g*m4*cos(q2)*cos(q3) + L3*g*m5*cos(q2)*cos(q3) + L3*g*m6*cos(q2)*cos(q3) - L4_z0*g*m4*cos(q2)*sin(q3) - L4_z0*g*m4*cos(q3)*sin(q2) - L4_z0*g*m5*cos(q2)*sin(q3) - L4_z0*g*m5*cos(q3)*sin(q2) - L4_z0*g*m6*cos(q2)*sin(q3) - L4_z0*g*m6*cos(q3)*sin(q2) + cm3_x*g*m3*cos(q2)*cos(q3) - L3*g*m3*sin(q2)*sin(q3) - L3*g*m4*sin(q2)*sin(q3) - L3*g*m5*sin(q2)*sin(q3) - L3*g*m6*sin(q2)*sin(q3) - cm3_z*g*m3*cos(q2)*sin(q3) - cm3_z*g*m3*cos(q3)*sin(q2) - cm4_y*g*m4*cos(q2)*sin(q3) - cm4_y*g*m4*cos(q3)*sin(q2) - cm3_x*g*m3*sin(q2)*sin(q3) + cm4_x*g*m4*cos(q2)*cos(q3)*cos(q4) + cm4_z*g*m4*cos(q2)*cos(q3)*sin(q4) - cm5_y*g*m5*cos(q2)*cos(q3)*sin(q4) - cm5_z*g*m5*cos(q2)*cos(q5)*sin(q3) - cm5_z*g*m5*cos(q3)*cos(q5)*sin(q2) - cm6_y*g*m6*cos(q2)*cos(q5)*sin(q3) - cm6_y*g*m6*cos(q3)*cos(q5)*sin(q2) - cm4_x*g*m4*cos(q4)*sin(q2)*sin(q3) - cm5_x*g*m5*cos(q2)*sin(q3)*sin(q5) - cm5_x*g*m5*cos(q3)*sin(q2)*sin(q5) - cm4_z*g*m4*sin(q2)*sin(q3)*sin(q4) + cm5_y*g*m5*sin(q2)*sin(q3)*sin(q4) - cm5_x*g*m5*cos(q4)*cos(q5)*sin(q2)*sin(q3) + cm6_z*g*m6*cos(q2)*cos(q3)*sin(q4)*sin(q6) + cm6_z*g*m6*cos(q2)*cos(q6)*sin(q3)*sin(q5) + cm6_z*g*m6*cos(q3)*cos(q6)*sin(q2)*sin(q5) + cm5_z*g*m5*cos(q4)*sin(q2)*sin(q3)*sin(q5) - cm6_x*g*m6*cos(q6)*sin(q2)*sin(q3)*sin(q4) + cm6_y*g*m6*cos(q4)*sin(q2)*sin(q3)*sin(q5) - cm6_x*g*m6*cos(q2)*sin(q3)*sin(q5)*sin(q6) - cm6_x*g*m6*cos(q3)*sin(q2)*sin(q5)*sin(q6) - cm6_z*g*m6*sin(q2)*sin(q3)*sin(q4)*sin(q6) + cm5_x*g*m5*cos(q2)*cos(q3)*cos(q4)*cos(q5) - cm5_z*g*m5*cos(q2)*cos(q3)*cos(q4)*sin(q5) + cm6_x*g*m6*cos(q2)*cos(q3)*cos(q6)*sin(q4) - cm6_y*g*m6*cos(q2)*cos(q3)*cos(q4)*sin(q5) - cm6_z*g*m6*cos(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6) + cm6_x*g*m6*cos(q2)*cos(q3)*cos(q4)*cos(q5)*sin(q6) + cm6_z*g*m6*cos(q4)*cos(q5)*cos(q6)*sin(q2)*sin(q3) - cm6_x*g*m6*cos(q4)*cos(q5)*sin(q2)*sin(q3)*sin(q6)
                                                                                                                                                                                                                                                                                                                                                      -(g*(cm4_z*m4*sin(q2 + q3 - q4) - cm4_z*m4*sin(q2 + q3 + q4) - cm4_x*m4*cos(q2 + q3 - q4) - cm4_x*m4*cos(q2 + q3 + q4) - 2*L3*m3*cos(q2 + q3) - 2*L3*m4*cos(q2 + q3) + 2*L4_z0*m4*sin(q2 + q3) - 2*cm3_x*m3*cos(q2 + q3) + 2*cm3_z*m3*sin(q2 + q3) + 2*cm4_y*m4*sin(q2 + q3) - 2*L3*m5*cos(q2)*cos(q3) - 2*L3*m6*cos(q2)*cos(q3) + 2*L4_z0*m5*cos(q2)*sin(q3) + 2*L4_z0*m5*cos(q3)*sin(q2) + 2*L4_z0*m6*cos(q2)*sin(q3) + 2*L4_z0*m6*cos(q3)*sin(q2) + 2*L3*m5*sin(q2)*sin(q3) + 2*L3*m6*sin(q2)*sin(q3) + 2*cm5_y*m5*cos(q2)*cos(q3)*sin(q4) + 2*cm5_z*m5*cos(q2)*cos(q5)*sin(q3) + 2*cm5_z*m5*cos(q3)*cos(q5)*sin(q2) + 2*cm6_y*m6*cos(q2)*cos(q5)*sin(q3) + 2*cm6_y*m6*cos(q3)*cos(q5)*sin(q2) + 2*cm5_x*m5*cos(q2)*sin(q3)*sin(q5) + 2*cm5_x*m5*cos(q3)*sin(q2)*sin(q5) - 2*cm5_y*m5*sin(q2)*sin(q3)*sin(q4) - 2*cm5_x*m5*cos(q2)*cos(q3)*cos(q4)*cos(q5) + 2*cm5_z*m5*cos(q2)*cos(q3)*cos(q4)*sin(q5) - 2*cm6_x*m6*cos(q2)*cos(q3)*cos(q6)*sin(q4) + 2*cm6_y*m6*cos(q2)*cos(q3)*cos(q4)*sin(q5) + 2*cm5_x*m5*cos(q4)*cos(q5)*sin(q2)*sin(q3) - 2*cm6_z*m6*cos(q2)*cos(q3)*sin(q4)*sin(q6) - 2*cm6_z*m6*cos(q2)*cos(q6)*sin(q3)*sin(q5) - 2*cm6_z*m6*cos(q3)*cos(q6)*sin(q2)*sin(q5) - 2*cm5_z*m5*cos(q4)*sin(q2)*sin(q3)*sin(q5) + 2*cm6_x*m6*cos(q6)*sin(q2)*sin(q3)*sin(q4) - 2*cm6_y*m6*cos(q4)*sin(q2)*sin(q3)*sin(q5) + 2*cm6_x*m6*cos(q2)*sin(q3)*sin(q5)*sin(q6) + 2*cm6_x*m6*cos(q3)*sin(q2)*sin(q5)*sin(q6) + 2*cm6_z*m6*sin(q2)*sin(q3)*sin(q4)*sin(q6) + 2*cm6_z*m6*cos(q2)*cos(q3)*cos(q4)*cos(q5)*cos(q6) - 2*cm6_x*m6*cos(q2)*cos(q3)*cos(q4)*cos(q5)*sin(q6) - 2*cm6_z*m6*cos(q4)*cos(q5)*cos(q6)*sin(q2)*sin(q3) + 2*cm6_x*m6*cos(q4)*cos(q5)*sin(q2)*sin(q3)*sin(q6)))/2
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                g*sin(q2 + q3)*(cm4_z*m4*cos(q4) - cm5_y*m5*cos(q4) - cm4_x*m4*sin(q4) + cm6_x*m6*cos(q4)*cos(q6) - cm5_x*m5*cos(q5)*sin(q4) + cm6_z*m6*cos(q4)*sin(q6) + cm5_z*m5*sin(q4)*sin(q5) + cm6_y*m6*sin(q4)*sin(q5) + cm6_z*m6*cos(q5)*cos(q6)*sin(q4) - cm6_x*m6*cos(q5)*sin(q4)*sin(q6))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       - g*m6*(cm6_y*cos(q2)*cos(q3)*sin(q5) - cm6_y*sin(q2)*sin(q3)*sin(q5) + cm6_z*cos(q2)*cos(q3)*cos(q5)*cos(q6) + cm6_y*cos(q2)*cos(q4)*cos(q5)*sin(q3) + cm6_y*cos(q3)*cos(q4)*cos(q5)*sin(q2) - cm6_x*cos(q2)*cos(q3)*cos(q5)*sin(q6) - cm6_z*cos(q5)*cos(q6)*sin(q2)*sin(q3) + cm6_x*cos(q5)*sin(q2)*sin(q3)*sin(q6) - cm6_z*cos(q2)*cos(q4)*cos(q6)*sin(q3)*sin(q5) - cm6_z*cos(q3)*cos(q4)*cos(q6)*sin(q2)*sin(q5) + cm6_x*cos(q2)*cos(q4)*sin(q3)*sin(q5)*sin(q6) + cm6_x*cos(q3)*cos(q4)*sin(q2)*sin(q5)*sin(q6)) - g*m5*(cm5_z*cos(q2)*cos(q3)*sin(q5) - cm5_x*cos(q2)*cos(q3)*cos(q5) + cm5_x*cos(q5)*sin(q2)*sin(q3) - cm5_z*sin(q2)*sin(q3)*sin(q5) + cm5_z*cos(q2)*cos(q4)*cos(q5)*sin(q3) + cm5_z*cos(q3)*cos(q4)*cos(q5)*sin(q2) + cm5_x*cos(q2)*cos(q4)*sin(q3)*sin(q5) + cm5_x*cos(q3)*cos(q4)*sin(q2)*sin(q5))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                g*m6*(cm6_x*cos(q2)*cos(q3)*cos(q6)*sin(q5) + cm6_z*cos(q2)*cos(q6)*sin(q3)*sin(q4) + cm6_z*cos(q3)*cos(q6)*sin(q2)*sin(q4) + cm6_z*cos(q2)*cos(q3)*sin(q5)*sin(q6) - cm6_x*cos(q2)*sin(q3)*sin(q4)*sin(q6) - cm6_x*cos(q3)*sin(q2)*sin(q4)*sin(q6) - cm6_x*cos(q6)*sin(q2)*sin(q3)*sin(q5) - cm6_z*sin(q2)*sin(q3)*sin(q5)*sin(q6) + cm6_z*cos(q2)*cos(q4)*cos(q5)*sin(q3)*sin(q6) + cm6_z*cos(q3)*cos(q4)*cos(q5)*sin(q2)*sin(q6) + cm6_x*cos(q2)*cos(q4)*cos(q5)*cos(q6)*sin(q3) + cm6_x*cos(q3)*cos(q4)*cos(q5)*cos(q6)*sin(q2))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   0];
 
